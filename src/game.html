<!DOCTYPE html>
<html>

<head>
  <title>Gargoyle Grenadier: Gate Guard</title>
  <style>
    * {
      box-sizing: border-box;
    }

    CURSORS

    html {
      font-size: min(calc(100vw / 160), calc(100vh / 70));
      background-color: black;
    }

    html, body, .state-ctx, .timer-ctx, .maze-ctx {
      width: 100vw;
      height: 100vh;
      margin: 0;
      overflow: hidden;
    }

    STATE_CTX
    TIMER_CTX
    MAZE_CTX

    .aspect {
      position: fixed;
      left: calc(50% - 80rem);
      top: calc(50% - 35rem);
      width: 160rem;
      height: 70rem;

      perspective: 100rem;
    }
    .perspective {
      position: absolute;
      width: 160rem;
      height: 90rem;
      bottom: 5rem;
      transform: rotateX(30deg);
      transform-origin: 50% 100%;
      background-color: white;
      margin: 0;
    }

    .game-board {
      display: grid;
      grid-template-areas:
        "g y y"
        "m m s";
      grid-template-columns: 40rem 72rem 48rem;
      grid-template-rows: 46rem 44rem;
    }

    .gateroom {
      grid-area: g;
      background-color: #eee;
    }
    .yard {
      grid-area: y;
      background-color: #fff;
    }



    .maze {
      grid-area: m;

      display: grid;
      grid-template-columns: repeat(28, 1fr);
      grid-template-rows: repeat(11, 1fr);
    }

    .abyss {
      background-color: #444;
    }
    .abyss.hole {
      width: calc(100% * var(--hole) * (1 - var(--has-carpenter)));
    }
    .repair {
      background-color: #400;
    }
    .repair.hole {
      width: calc(100% * var(--hole) * var(--has-carpenter));
    }
    .cell {
      background-color: rgb(132, 95, 62);
    }
    .hole {
      width: calc(100% * (1 - var(--hole)));
    }
    .storage {
      grid-area: s;
      background-color: #eee;
    }
  </style>
</head>

<body>
  <div class="state-ctx">
    <div class="timer-ctx">
      <div class="maze-ctx">
        <div class="aspect">
          <div class="perspective">
            <div class="game-board">
              <div class="gateroom">
                GATEROOM
              </div>
              <div class="yard">
                YARD
              </div>
              <div class="maze">
                MAZE
              </div>
              <div class="storage">
                STORAGE
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>
